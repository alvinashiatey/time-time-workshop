(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.timeTimeWorkshop={}))})(this,function(n){"use strict";var c=Object.defineProperty;var _=(n,r,h)=>r in n?c(n,r,{enumerable:!0,configurable:!0,writable:!0,value:h}):n[r]=h;var a=(n,r,h)=>(_(n,typeof r!="symbol"?r+"":r,h),h);const r="";class h{constructor(){a(this,"_date");a(this,"_secondsDiv");a(this,"_minutesDiv");a(this,"_hoursDiv");a(this,"_circles");a(this,"_dataTic");a(this,"_wrapper");a(this,"_started");this._started=!1,window.onload=()=>this.setup()}setup(){this._date=new Date,this._secondsDiv=this.generateSecDiv(),this._minutesDiv=this.generateMinuteDiv(),this._hoursDiv=this.generateHourDiv(),this._wrapper=document.querySelector(".wrapper"),this._circles=[]}start(){const t=document.body;if(!t.dataset.tic)return;this._dataTic=+t.dataset.tic;const e=this.generateDiv("content");this._wrapper&&this._wrapper.appendChild(e);for(let i=0;i<this._dataTic;i++){const s=this.generateCircleDiv(e);s&&this._circles&&this._circles.push(s)}this._started=!0,window.onload=()=>this.animate()}animate(){setTimeout(()=>{this.handleSecondAnimation(),this.handleMinuteAnimation(),this.handleHourAnimation()},1e3)}handleSecondAnimation(){var i;if(!this._started)return;const t=(i=this._date)==null?void 0:i.getSeconds();if(!t||!this._dataTic)return;const e=this._dataTic*5;if(t>=e-5&&t<=e){const s=this.mapRange(t,e-5,e,0,100);this._secondsDiv&&(this._secondsDiv.style.transform=`translateX(${s}%)`)}}handleMinuteAnimation(){var s,d,o,u;if(!this._started)return;const t=(s=this._date)==null?void 0:s.getMinutes();if(!t||!this._dataTic)return;const e=this._dataTic*5+5,i=(d=this._minutesDiv)==null?void 0:d.hasAttribute("hide");t<e&&t>=e?i&&((o=this._minutesDiv)==null||o.removeAttribute("hide")):i||(u=this._minutesDiv)==null||u.setAttribute("hide","true")}handleHourAnimation(){var s,d,o,u;if(!this._started)return;let t=(s=this._date)==null?void 0:s.getHours();if(!t||this._dataTic)return;t=this.makeHour12(t);const e=this._dataTic,i=(d=this._hoursDiv)==null?void 0:d.hasAttribute("hide");t==e?i&&((o=this._hoursDiv)==null||o.removeAttribute("hide")):i||(u=this._hoursDiv)==null||u.setAttribute("hide","true")}makeHour12(t){return t>12?t-12:t}mapRange(t,e,i,s,d){return t=(t-e)/(i-e),s+t*(d-s)}generateMinuteDiv(){if(!this._wrapper)return;const t=this.generateDiv("second");return this._wrapper.appendChild(t),t}generateSecDiv(){if(!this._wrapper)return;const t=this.generateDiv("second");return this._wrapper.appendChild(t),t}generateHourDiv(){if(!this._wrapper)return;const t=this.generateDiv("hour");return this._wrapper.appendChild(t),t}generateCircleDiv(t){const e=this.generateDiv("circle");return t.appendChild(e),e}generateDiv(t=void 0){const e=document.createElement("div");return t&&e.classList.add(t),e}get date(){return this._date}set date(t){t===void 0&&(this._date=new Date),this._date=t}}n.Tic=h,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
