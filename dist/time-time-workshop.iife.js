var u=Object.defineProperty;var _=(h,n,d)=>n in h?u(h,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):h[n]=d;var r=(h,n,d)=>(_(h,typeof n!="symbol"?n+"":n,d),d);(function(){"use strict";const h="";class n{constructor(){r(this,"_date");r(this,"_secondsDiv");r(this,"_minutesDiv");r(this,"_hoursDiv");r(this,"_circles");r(this,"_dataTic");r(this,"_wrapper");r(this,"_started");this._started=!1,window.onload=()=>this.setup()}setup(){this._date=new Date,this._secondsDiv=this.generateSecDiv(),this._minutesDiv=this.generateMinuteDiv(),this._hoursDiv=this.generateHourDiv(),this._wrapper=document.querySelector(".wrapper"),this._circles=[]}start(){const t=document.body;if(!t.dataset.tic)return;this._dataTic=+t.dataset.tic;const e=this.generateDiv("content");this._wrapper&&this._wrapper.appendChild(e);for(let i=0;i<this._dataTic;i++){const s=this.generateCircleDiv(e);s&&this._circles&&this._circles.push(s)}this._started=!0,window.onload=()=>this.animate()}animate(){setTimeout(()=>{this.handleSecondAnimation(),this.handleMinuteAnimation(),this.handleHourAnimation()},1e3)}handleSecondAnimation(){var i;if(!this._started)return;const t=(i=this._date)==null?void 0:i.getSeconds();if(!t||!this._dataTic)return;const e=this._dataTic*5;if(t>=e-5&&t<=e){const s=this.mapRange(t,e-5,e,0,100);this._secondsDiv&&(this._secondsDiv.style.transform=`translateX(${s}%)`)}}handleMinuteAnimation(){var s,a,o,c;if(!this._started)return;const t=(s=this._date)==null?void 0:s.getMinutes();if(!t||!this._dataTic)return;const e=this._dataTic*5+5,i=(a=this._minutesDiv)==null?void 0:a.hasAttribute("hide");t<e&&t>=e?i&&((o=this._minutesDiv)==null||o.removeAttribute("hide")):i||(c=this._minutesDiv)==null||c.setAttribute("hide","true")}handleHourAnimation(){var s,a,o,c;if(!this._started)return;let t=(s=this._date)==null?void 0:s.getHours();if(!t||this._dataTic)return;t=this.makeHour12(t);const e=this._dataTic,i=(a=this._hoursDiv)==null?void 0:a.hasAttribute("hide");t==e?i&&((o=this._hoursDiv)==null||o.removeAttribute("hide")):i||(c=this._hoursDiv)==null||c.setAttribute("hide","true")}makeHour12(t){return t>12?t-12:t}mapRange(t,e,i,s,a){return t=(t-e)/(i-e),s+t*(a-s)}generateMinuteDiv(){if(!this._wrapper)return;const t=this.generateDiv("second");return this._wrapper.appendChild(t),t}generateSecDiv(){if(!this._wrapper)return;const t=this.generateDiv("second");return this._wrapper.appendChild(t),t}generateHourDiv(){if(!this._wrapper)return;const t=this.generateDiv("hour");return this._wrapper.appendChild(t),t}generateCircleDiv(t){const e=this.generateDiv("circle");return t.appendChild(e),e}generateDiv(t=void 0){const e=document.createElement("div");return t&&e.classList.add(t),e}get date(){return this._date}set date(t){t===void 0&&(this._date=new Date),this._date=t}}new n})();
